<?xml version="1.0" encoding="GBK"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=GBK" http-equiv="Content-Type" />

  <title>Class: SQLite3::Database::FunctionProxy</title>

  <link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

  <script src="../../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../../lib/sqlite3/database_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sqlite3/database.rb">lib/sqlite3/database.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-5B-5D">#[]</a></li>
          
          <li><a href="#method-i-5B-5D-3D">#[]=</a></li>
          
          <li><a href="#method-i-count">#count</a></li>
          
          <li><a href="#method-i-set_error">#set_error</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../API_CHANGES_rdoc.html">API_CHANGES.rdoc</a></li>
        
          <li class="file"><a href="../../CHANGELOG_rdoc.html">CHANGELOG.rdoc</a></li>
        
          <li class="file"><a href="../../Manifest_txt.html">Manifest.txt</a></li>
        
          <li class="file"><a href="../../README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../SQLite3.html">SQLite3</a></li>
        
          <li><a href="../../SQLite3/AbortException.html">SQLite3::AbortException</a></li>
        
          <li><a href="../../SQLite3/AuthorizationException.html">SQLite3::AuthorizationException</a></li>
        
          <li><a href="../../SQLite3/Backup.html">SQLite3::Backup</a></li>
        
          <li><a href="../../SQLite3/Blob.html">SQLite3::Blob</a></li>
        
          <li><a href="../../SQLite3/BusyException.html">SQLite3::BusyException</a></li>
        
          <li><a href="../../SQLite3/CantOpenException.html">SQLite3::CantOpenException</a></li>
        
          <li><a href="../../SQLite3/Constants.html">SQLite3::Constants</a></li>
        
          <li><a href="../../SQLite3/Constants/ColumnType.html">SQLite3::Constants::ColumnType</a></li>
        
          <li><a href="../../SQLite3/Constants/ErrorCode.html">SQLite3::Constants::ErrorCode</a></li>
        
          <li><a href="../../SQLite3/Constants/TextRep.html">SQLite3::Constants::TextRep</a></li>
        
          <li><a href="../../SQLite3/ConstraintException.html">SQLite3::ConstraintException</a></li>
        
          <li><a href="../../SQLite3/CorruptException.html">SQLite3::CorruptException</a></li>
        
          <li><a href="../../SQLite3/Database.html">SQLite3::Database</a></li>
        
          <li><a href="../../SQLite3/Database/FunctionProxy.html">SQLite3::Database::FunctionProxy</a></li>
        
          <li><a href="../../SQLite3/EmptyException.html">SQLite3::EmptyException</a></li>
        
          <li><a href="../../SQLite3/Exception.html">SQLite3::Exception</a></li>
        
          <li><a href="../../SQLite3/FormatException.html">SQLite3::FormatException</a></li>
        
          <li><a href="../../SQLite3/FullException.html">SQLite3::FullException</a></li>
        
          <li><a href="../../SQLite3/IOException.html">SQLite3::IOException</a></li>
        
          <li><a href="../../SQLite3/InternalException.html">SQLite3::InternalException</a></li>
        
          <li><a href="../../SQLite3/InterruptException.html">SQLite3::InterruptException</a></li>
        
          <li><a href="../../SQLite3/LockedException.html">SQLite3::LockedException</a></li>
        
          <li><a href="../../SQLite3/MemoryException.html">SQLite3::MemoryException</a></li>
        
          <li><a href="../../SQLite3/MismatchException.html">SQLite3::MismatchException</a></li>
        
          <li><a href="../../SQLite3/MisuseException.html">SQLite3::MisuseException</a></li>
        
          <li><a href="../../SQLite3/NotADatabaseException.html">SQLite3::NotADatabaseException</a></li>
        
          <li><a href="../../SQLite3/NotFoundException.html">SQLite3::NotFoundException</a></li>
        
          <li><a href="../../SQLite3/PermissionException.html">SQLite3::PermissionException</a></li>
        
          <li><a href="../../SQLite3/Pragmas.html">SQLite3::Pragmas</a></li>
        
          <li><a href="../../SQLite3/ProtocolException.html">SQLite3::ProtocolException</a></li>
        
          <li><a href="../../SQLite3/RangeException.html">SQLite3::RangeException</a></li>
        
          <li><a href="../../SQLite3/ReadOnlyException.html">SQLite3::ReadOnlyException</a></li>
        
          <li><a href="../../SQLite3/ResultSet.html">SQLite3::ResultSet</a></li>
        
          <li><a href="../../SQLite3/SQLException.html">SQLite3::SQLException</a></li>
        
          <li><a href="../../SQLite3/SchemaChangedException.html">SQLite3::SchemaChangedException</a></li>
        
          <li><a href="../../SQLite3/Statement.html">SQLite3::Statement</a></li>
        
          <li><a href="../../SQLite3/TooBigException.html">SQLite3::TooBigException</a></li>
        
          <li><a href="../../SQLite3/Translator.html">SQLite3::Translator</a></li>
        
          <li><a href="../../SQLite3/UnsupportedException.html">SQLite3::UnsupportedException</a></li>
        
          <li><a href="../../SQLite3/Value.html">SQLite3::Value</a></li>
        
          <li><a href="../../SQLite3/VersionProxy.html">SQLite3::VersionProxy</a></li>
        
          <li><a href="../../String.html">String</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">SQLite3::Database::FunctionProxy</h1>

    <div id="description" class="description">
      
<p>A helper class for dealing with custom functions (see create_function,
create_aggregate, and create_aggregate_handler). It encapsulates the opaque
function object that represents the current invocation. It also provides
more convenient access to the API functions that operate on the function
object.</p>

<p>This class will almost <em>always</em> be instantiated indirectly, by
working with the create methods mentioned above.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="result-attribute-method" class="method-detail">
          <a name="result"></a>
          
          <a name="result="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">result</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Create a new <a href="FunctionProxy.html">FunctionProxy</a> that
encapsulates the given <tt>func</tt> object. If context is non-nil, the
functions context will be set to that. If it is non-nil, it must quack like
a Hash. If it is nil, then none of the context functions will be available.</p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/sqlite3/database.rb, line 551</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>
  <span class="ruby-ivar">@result</span>   = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@context</span>  = {}
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="5B-5D-method" class="method-detail ">
          <a name="method-i-5B-5D"></a>

          
          <div class="method-heading">
            <span class="method-name">[]</span><span
              class="method-args">( key )</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the value with the given key from the context. This is only
available to aggregate functions.</p>
            

            
            <div class="method-source-code" id="5B-5D-source">
<pre>
<span class="ruby-comment"># File lib/sqlite3/database.rb, line 571</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>( <span class="ruby-identifier">key</span> )
  <span class="ruby-ivar">@context</span>[ <span class="ruby-identifier">key</span> ]
<span class="ruby-keyword">end</span></pre>
            </div><!-- 5B-5D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-method -->

      
        <div id="5B-5D-3D-method" class="method-detail ">
          <a name="method-i-5B-5D-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">[]=</span><span
              class="method-args">( key, value )</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sets the value with the given key in the context. This is only available to
aggregate functions.</p>
            

            
            <div class="method-source-code" id="5B-5D-3D-source">
<pre>
<span class="ruby-comment"># File lib/sqlite3/database.rb, line 577</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]=</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> )
  <span class="ruby-ivar">@context</span>[ <span class="ruby-identifier">key</span> ] = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- 5B-5D-3D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-3D-method -->

      
        <div id="count-method" class="method-detail ">
          <a name="method-i-count"></a>

          
          <div class="method-heading">
            <span class="method-name">count</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>(Only available to aggregate functions.) Returns the number of rows that
the aggregate has processed so far. This will include the current row, and
so will always return at least 1.</p>
            

            
            <div class="method-source-code" id="count-source">
<pre>
<span class="ruby-comment"># File lib/sqlite3/database.rb, line 565</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">count</span>
  <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">aggregate_count</span>( <span class="ruby-ivar">@func</span> )
<span class="ruby-keyword">end</span></pre>
            </div><!-- count-source -->
            
          </div>

          

          
        </div><!-- count-method -->

      
        <div id="set_error-method" class="method-detail ">
          <a name="method-i-set_error"></a>

          
          <div class="method-heading">
            <span class="method-name">set_error</span><span
              class="method-args">( error )</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the result of the function to the given error message. The function
will then return that error.</p>
            

            
            <div class="method-source-code" id="set_error-source">
<pre>
<span class="ruby-comment"># File lib/sqlite3/database.rb, line 558</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_error</span>( <span class="ruby-identifier">error</span> )
  <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">result_error</span>( <span class="ruby-ivar">@func</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value">-1</span> )
<span class="ruby-keyword">end</span></pre>
            </div><!-- set_error-source -->
            
          </div>

          

          
        </div><!-- set_error-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

